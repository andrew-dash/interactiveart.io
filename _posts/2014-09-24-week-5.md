---
title: week 5
name: 5
---

<h3 class="text-muted">oop continued</h3>

Working with two-dimensional vectors: <a href="http://www.openframeworks.cc/documentation/math/ofVec2f.html" target="_blank" class="inline">ofVec2f</a>

<a href="http://www.openframeworks.cc/tutorials/c++%20concepts/001_stl_vectors_basic.html" target="_blank" class="inline">vector basics</a>

<h3 class="text-muted">assignment</h3>

read <a href="{{site.url}}/media/pdfs/HertzianTales.pdf" class="inline" target="_blank">hertzian tales</a>

continue working!

<h3 class="text-muted">demo from class</h3>

blackHole.cpp

	#include "Matter.h"

	vector<Matter> myMatter;
	int matterCounter;

	void setup() {
		
		ofEnableAlphaBlending();
		ofSetWindowShape(1000,1000);
		ofBackground(0,0,0);
		matterCounter = 0;
	}

	void draw() {
		
		for( int i = 0; i < matterCounter; i++) {
		    myMatter[i].draw();
		}
	}

	void keyPressed(int key)
	{
	    if(' ' == key)
	    {
	        myMatter.push_back( Matter() );
	        matterCounter++;
	    } else if ( 'a' == key) {
	        for( int i = 0; i < matterCounter; i++) {
	    	    myMatter[i].location.set( ofRandom(ofGetWindowWidth()), ofRandom(ofGetWindowHeight()) );
	    	}
	    }
	}


Matter.h

	class Matter{

	public:

	    ofVec2f location;

		Matter(){
	        location.set( ofRandom(ofGetWindowWidth()), ofRandom(ofGetWindowHeight()) );
		}	
		
		void draw(){
		  
		    ofSetColor(255,255,255,127);
		    ofFill();
		    ofEllipse(location.x, location.y, 60, 60);
		}
		
	};

<h3 class="text-muted">demo with acceleration</h3>

blackHole.cpp

	#include "Matter.h"

	vector<Matter> myMatter;
	int matterCounter;

	void setup() {
		ofEnableAlphaBlending();
		ofSetWindowShape(1000,1000);
		ofBackground(0,0,0);
		matterCounter = 400;
		
		for( int i = 0; i < matterCounter; i++) {
		    Matter m = Matter();
		    myMatter.push_back( m );
		}
	}

	void update(){
	    for( int i = 0; i < matterCounter; i++) {
		    myMatter[i].screenCheck();
		    myMatter[i].move();
		}
		
	}

	void draw() {
		for( int i = 0; i < matterCounter; i++) {
		    myMatter[i].draw();
		}
	}

	void keyPressed(int key)
	{
	    if(' ' == key)
	    {
	       myMatter.push_back( Matter() );
	       matterCounter++;
	       
	    } else if ( 'a' == key) {
	        for( int i = 0; i < matterCounter; i++) {
	    	    myMatter[i].location.set( ofRandom(ofGetWindowWidth()), ofRandom(ofGetWindowHeight()) );
	    	    myMatter[i].color.set(0, 255, 0);
	    	}
	    }
	}

Matter.h

	class Matter{

	public:

	    ofVec2f location;
	    ofVec2f velocity;
	    ofVec2f acceleration;
	    ofVec2f mouse;
	    ofVec3f color;
	    float topSpeed;

		Matter(){
	        location.set( ofRandom(ofGetWindowWidth()), ofRandom(ofGetWindowHeight()) );
	        velocity.set( 0.3, 0.3 );
	        topSpeed = 10;
	        if ( location.x < (ofGetWindowWidth()/2) ) {
	            color.set(ofRandom(150,255), 0, 0);
	        } else {
	            color.set(0, 0, ofRandom(150,255));
	        }
		}
		
		void move(){
		    
		    float x = ofGetMouseX();
		    float y = ofGetMouseY();
		    
		    mouse.set(x, y);
		    
		    acceleration = mouse - location;
	        
		    acceleration.normalize();
		    
		    acceleration *= 0.2;
		    velocity.limit(topSpeed);
		    
		    velocity += acceleration;
		    
		    location += velocity;
		}
		
		void draw(){
		    ofSetColor(color.x, color.y, color.z,127);
		    ofFill();
		    ofEllipse(location.x, location.y,20, 20);
		}
		
		void screenCheck(){
		    if ( location.x > ofGetWindowWidth() ) {
		        location.x = 0;
		    } else if ( location.x < 0 ) {
		        location.x = ofGetWindowWidth();
		    }
		    
		    if ( location.y > ofGetWindowHeight() ) {
		        location.y = 0;
		    } else if ( location.y < 0 ) {
		        location.y = ofGetWindowHeight();
		    }
		}
		
	};

